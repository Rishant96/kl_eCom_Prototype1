@model kl_eCom.Web.Models.ShopIndexViewModel
@{
    Layout = "~/Views/Shared/_EcomLayout.cshtml";
    ViewBag.Title = "Index";
}

<h2>Catalog</h2>

@foreach (var cat in Model.Categories)
{
    if (Model.IsLeafDict[cat])
    {
        @Html.ActionLink(cat.Name, "Products", new { storeId = ViewBag.storeId, catId = cat.Id })<br />
    }
    else
    {
        @Html.ActionLink(cat.Name, "Index", new { id = ViewBag.storeId, catId = cat.Id })<br />
    }
}